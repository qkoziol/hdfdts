# Makefile to build the IO speed measurement tool.

CC=icc

# Uncomment these if you want to use FFIO.
#FFIO_CPPFLAGS=-DFFIO_MACHINE
#FFIO_LIBS=-lffio -lrt

# Uncomment these if you want to use gcc.
# If errors, such as integer overflow, occur for file size larger than 2GB,
# you may want to uncomment the GCC_CPPFLAGS here.
#CC=gcc
#GCC_CPPFLAGS=-D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64

CPPFLAGS=$(FFIO_CPPFLAGS) $(GCC_CPPFLAGS)
LIBS=$(FFIO_LIBS)


iospeed: gopt.c iospeed.c
	$(CC) $(CPPFLAGS) gopt.c iospeed.c $(LIBS) -o $@

clean:
	rm -f iospeed
